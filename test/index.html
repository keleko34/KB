<!DOCTYPE html>
<html>
  <head>
    <title>Testing</title>
    <script type="text/javascript" src="../KB/Build/KB.js"></script>
  </head>
  <body>
    <h1 id="testDiv">Test Title</h1>
    <input id="testInput" type="text" />
    <input id="testInputBox" type="checkbox" />
    <input id="testInputRadio" type="radio" />
    <textarea id="testTextarea"></textarea>
    <div id="testDisplay"></div>
    <script type="text/javascript">
      var testDisplay = document.getElementById('testDisplay');
      var testInput = document.getElementById('testInput');
      var textAreaInput = document.getElementById('testTextarea');
      var kb = CreateKB();

      testInput.addAttrListener('value',function(e){
        console.log(e);
        if(e.value === 'cool')
        {
          e.preventDefault();
          return;
        }
        testDisplay.innerHTML = e.value;
      })
      textAreaInput.addAttrListener('value',function(e){
        console.log(e);
      });
      kb.addAttrListener("checked",function(e){
        console.log(e);
      })
      .addAttrListener('appendChild',function(e){
        console.log(e);
      })
      .addAttrListener('innerHTML',function(e){
        console.log(e); //fires when input value changes
      })
      .addAttrListener('add',function(e){
        console.log(e);
        if(e.arguments[0]+e.arguments[1] === 10)
        {
          e.preventDefault();
        }
      })
      .addAttrListener("*",function(e){
        console.log(e);
      });

      function myObject(){};

      myObject.prototype.add = function(a,b){return a+b;};

      kb.injectPrototypes(myObject);

      kb();

      var test = new myObject();
      var out = test.add(5,5);
      console.log(out);
    </script>
  </body>
</html>

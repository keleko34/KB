<!DOCTYPE html>
<html>
  <head>
    <title>Testing</title>
    <script type="text/javascript" src="../bower_components/requirejs/require.js"></script>
  </head>
  <body>
    <cool coolio="coolest"></cool>
    <something>
      Some inner Text
    </something>
    <script type="text/javascript">
      require([('./KB/init.js'+location.search)],function(kb){




        var coolTemplate = '<div class="{{classname | class}}"><input value="{{coolio}}" /></div>',
            coolViewModel = function()
            {
              this.classname = "cool-bar";
              this.filters.class = (function(){
                var d = "cool";
                return function(v){
                  return d+(v.length !== 0 ? ' ' : '')+v;
                }
              }());
              this.coolio = "yay";
            },
            somethingTemplate = '<div class="{{classname | class}}"><h1>Title</h1><p>- {{html}}</p><cool coolio="something"></cool></div>',
            somethingViewModel = function(){
              this.classname = "something-bar";
              this.filters.class = (function(){
                var d = "something";
                return function(v){
                  return d+(v.length !== 0 ? ' ' : '')+v;
                }
              }());
            }


        kb.instance.add('cool',coolViewModel,coolTemplate);
        kb.instance.add('something',somethingViewModel,somethingTemplate);

        var t = kb.instance.create('cool','',{coolio:"coolest"});
        document.body.appendChild(t);

        var t = kb.instance.create('something','Some inner Text');
        document.body.appendChild(t);
      })
    </script>
  </body>
</html>
